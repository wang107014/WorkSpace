#体检



##一、个人预约
	zw ^websys.MenuD(51503)
	dhcpepreiadm.main.csp
	dhcpepreiadm.main.hisui.js

###1、一些选择框

	1、婚姻状况
	d ##class(%ResultSet).RunQuery("web.DHCPE.HISUICommon","FindMarried")

	2、体检类别
	d ##class(%ResultSet).RunQuery("web.DHCPE.HISUICommon","FindPatFeeType")

	3、VIP等级
	d ##class(%ResultSet).RunQuery("web.DHCPE.HISUICommon","FindVIP")

	4、证件类型
	d ##class(%ResultSet).RunQuery("web.DHCPE.HISUICommon","FindPAPMICardType")

###2、体检套餐

	d ##class(%ResultSet).RunQuery("web.DHCPE.HandlerOrdSetsEx","queryOrdSet","","ItemSet","","")
	
	1、点击预览
	dhcpepreiadm.main.hisui.js中的openSetWin方法中
	项目信息列表
	d ##class(%ResultSet).RunQuery("web.DHCPE.Query.PreItemList","QueryPreItemList","3350","Ord","","","","","")

	2、双击事件
	onDblClickRow
	


###3、检查列表
	d ##class(%ResultSet).RunQuery("web.DHCPE.StationOrder","StationOrderList","","Item","PreItemList","","")

	1、点击操作
	dhcpepreiadm.main.hisui.js中的AddItem方法中

###4、检验列表

	d ##class(%ResultSet).RunQuery("web.DHCPE.StationOrder","StationOrderList","","Lab","PreItemList","","")

###5、其他项目

	d ##class(%ResultSet).RunQuery("web.DHCPE.StationOrder","StationOrderList","","Other","PreItemList","","")

###6、药品列表

	d ##class(%ResultSet).RunQuery("web.DHCPE.StationOrder","StationOrderList","","Medical","PreItemList","","")

###7、体检项目

	d ##class(%ResultSet).RunQuery("web.DHCPE.Query.PreItemList","QueryPreItemList","11061","PERSON","PRE","Item","ItemSet","","")
	1、点击删除
	dhcpepreiadm.main.hisui.js中的DeleteItemSet方法中


###8、点击预约保存信息

	
	dhcpepreiadm.main.hisui.js中的Save方法中
	1、没有团体信息时
	w ##class("web.DHCPE.PreIADM").HISUISave("","","^9435^^^2018-11-29^2018-11-29^^^PREREG^N^N^N^^N^N^^DC^ID^1^^^^^^^^^0^0^^^^^^N^5$$^","","")
	2、有团体信息时
	w ##class(web.DHCPE.PreIADM).InsertIADMInGTeam()


###9、点击登记

	dhcpepreiadm.main.hisui.js中的Register方法中
	w ##class(web.DHCPE.DHCPEIAdm).UpdateIADMInfo("11069","2",1,"",1)



##体检查询
	DHCPEPreIADM.Find.js中的BFind_click方法中



	